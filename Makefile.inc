
RUNNER_IMPLEMENTATION=stdlib

.PHONY:test
test: $(MODULE)/test$(EXECUTABLE_SUFFIX)
	.$(DIRECTORY_SEPARATOR)$(MODULE)$(DIRECTORY_SEPARATOR)test$(EXECUTABLE_SUFFIX)

runner/test$(EXECUTABLE_SUFFIX): runner/test$(OBJECT_SUFFIX) runner/prod$(OBJECT_SUFFIX) runner/$(RUNNER_IMPLEMENTATION)/impl$(OBJECT_SUFFIX)

asserter/test$(EXECUTABLE_SUFFIX): asserter/test$(OBJECT_SUFFIX) asserter/prod$(OBJECT_SUFFIX) runner/prod$(OBJECT_SUFFIX) runner/main$(OBJECT_SUFFIX) runner/$(RUNNER_IMPLEMENTATION)/impl$(OBJECT_SUFFIX)

set/test$(EXECUTABLE_SUFFIX): set/test$(OBJECT_SUFFIX) set/prod$(OBJECT_SUFFIX) asserter/prod$(OBJECT_SUFFIX) runner/prod$(OBJECT_SUFFIX) runner/main$(OBJECT_SUFFIX) runner/$(RUNNER_IMPLEMENTATION)/impl$(OBJECT_SUFFIX)

graph/test$(EXECUTABLE_SUFFIX): graph/test$(OBJECT_SUFFIX) graph/prod$(OBJECT_SUFFIX) asserter/prod$(OBJECT_SUFFIX) runner/prod$(OBJECT_SUFFIX) runner/main$(OBJECT_SUFFIX) runner/$(RUNNER_IMPLEMENTATION)/impl$(OBJECT_SUFFIX)

.PHONY:clean
clean:
	$(REMOVE_FILE) \
	runner$(DIRECTORY_SEPARATOR)test$(EXECUTABLE_SUFFIX) runner$(DIRECTORY_SEPARATOR)*$(OBJECT_SUFFIX) runner$(DIRECTORY_SEPARATOR)$(RUNNER_IMPLEMENTATION)$(DIRECTORY_SEPARATOR)*$(OBJECT_SUFFIX) \
	asserter$(DIRECTORY_SEPARATOR)test$(EXECUTABLE_SUFFIX) asserter$(DIRECTORY_SEPARATOR)*$(OBJECT_SUFFIX) \
	set$(DIRECTORY_SEPARATOR)test$(EXECUTABLE_SUFFIX) set$(DIRECTORY_SEPARATOR)*$(OBJECT_SUFFIX) \
	graph$(DIRECTORY_SEPARATOR)test$(EXECUTABLE_SUFFIX) graph$(DIRECTORY_SEPARATOR)*$(OBJECT_SUFFIX)

